# Maintainer: Yusuke Sasaki <yusuke dot sasaki dot nuem at gmail dot com>

pkgname=luajit
_pkgver="2.1.0-beta2"
pkgver="2.1.0"
pkgrel=1
pkgdesc="LuaJit"
arch=("i686" "x86_64")
url="https://example.net"
license=("custom")
depends=()
source=("http://luajit.org/download/LuaJIT-${_pkgver}.tar.gz"
        "0010-makefile.patch")
sha256sums=(SKIP
            SKIP)

prepare() {
  cd "$srcdir/LuaJIT-${_pkgver}"
  patch -p1 -i "${srcdir}"/0010-makefile.patch
}

build() {
  cd "$srcdir/LuaJIT-${_pkgver}"
  make
}

package() {
  cd "$srcdir/LuaJIT-${_pkgver}"
  make PREFIX="${pkgdir}"/usr install
  install -Dm755 src/luajit.exe "${pkgdir}"/usr/bin/luajit.exe
  install -Dm644 COPYRIGHT "${pkgdir}"/usr/share/licenses/luajit/COPYRIGHT
}
